{"filter":false,"title":"show.html.erb","tooltip":"/app/views/shots/show.html.erb","undoManager":{"mark":27,"position":27,"stack":[[{"start":{"row":48,"column":6},"end":{"row":49,"column":6},"action":"insert","lines":["\t<%= render @shot.comments %>","\t\t\t\t\t\t"],"id":2},{"start":{"row":59,"column":0},"end":{"row":60,"column":0},"action":"remove","lines":["\t\t\t\t\t\t\t<%= render @shot.comments %>",""]},{"start":{"row":61,"column":9},"end":{"row":67,"column":3},"action":"remove","lines":["","\t\t\t","\t\t\t","\t\t\t","\t\t\t","\t\t\t","\t\t\t"]}],[{"start":{"row":105,"column":24},"end":{"row":105,"column":25},"action":"remove","lines":["8"],"id":3},{"start":{"row":105,"column":23},"end":{"row":105,"column":24},"action":"remove","lines":["2"]},{"start":{"row":105,"column":22},"end":{"row":105,"column":23},"action":"remove","lines":["8"]},{"start":{"row":105,"column":21},"end":{"row":105,"column":22},"action":"remove","lines":["7"]},{"start":{"row":105,"column":20},"end":{"row":105,"column":21},"action":"remove","lines":["."]},{"start":{"row":105,"column":19},"end":{"row":105,"column":20},"action":"remove","lines":["0"]},{"start":{"row":105,"column":18},"end":{"row":105,"column":19},"action":"remove","lines":["4"]}],[{"start":{"row":105,"column":17},"end":{"row":105,"column":18},"action":"remove","lines":[" "],"id":4}],[{"start":{"row":105,"column":17},"end":{"row":105,"column":18},"action":"insert","lines":["@"],"id":5},{"start":{"row":105,"column":18},"end":{"row":105,"column":19},"action":"insert","lines":["s"]},{"start":{"row":105,"column":19},"end":{"row":105,"column":20},"action":"insert","lines":["h"]},{"start":{"row":105,"column":20},"end":{"row":105,"column":21},"action":"insert","lines":["o"]},{"start":{"row":105,"column":21},"end":{"row":105,"column":22},"action":"insert","lines":["t"]}],[{"start":{"row":105,"column":22},"end":{"row":105,"column":23},"action":"insert","lines":["."],"id":6}],[{"start":{"row":105,"column":17},"end":{"row":105,"column":18},"action":"insert","lines":[" "],"id":7}],[{"start":{"row":105,"column":23},"end":{"row":105,"column":24},"action":"remove","lines":["."],"id":8}],[{"start":{"row":105,"column":23},"end":{"row":105,"column":24},"action":"insert","lines":["."],"id":9}],[{"start":{"row":105,"column":24},"end":{"row":105,"column":32},"action":"insert","lines":["latitude"],"id":10}],[{"start":{"row":105,"column":45},"end":{"row":105,"column":46},"action":"remove","lines":["3"],"id":11},{"start":{"row":105,"column":44},"end":{"row":105,"column":45},"action":"remove","lines":["5"]},{"start":{"row":105,"column":43},"end":{"row":105,"column":44},"action":"remove","lines":["6"]},{"start":{"row":105,"column":42},"end":{"row":105,"column":43},"action":"remove","lines":["9"]},{"start":{"row":105,"column":41},"end":{"row":105,"column":42},"action":"remove","lines":["."]},{"start":{"row":105,"column":40},"end":{"row":105,"column":41},"action":"remove","lines":["3"]},{"start":{"row":105,"column":39},"end":{"row":105,"column":40},"action":"remove","lines":["7"]},{"start":{"row":105,"column":38},"end":{"row":105,"column":39},"action":"remove","lines":["-"]}],[{"start":{"row":105,"column":38},"end":{"row":105,"column":39},"action":"insert","lines":[" "],"id":12},{"start":{"row":105,"column":39},"end":{"row":105,"column":40},"action":"insert","lines":["@"]}],[{"start":{"row":105,"column":40},"end":{"row":105,"column":41},"action":"insert","lines":["s"],"id":13},{"start":{"row":105,"column":41},"end":{"row":105,"column":42},"action":"insert","lines":["h"]},{"start":{"row":105,"column":42},"end":{"row":105,"column":43},"action":"insert","lines":["o"]}],[{"start":{"row":105,"column":43},"end":{"row":105,"column":44},"action":"insert","lines":["t"],"id":14}],[{"start":{"row":105,"column":44},"end":{"row":105,"column":45},"action":"insert","lines":["."],"id":15}],[{"start":{"row":105,"column":45},"end":{"row":105,"column":54},"action":"insert","lines":["longitude"],"id":16}],[{"start":{"row":105,"column":17},"end":{"row":105,"column":18},"action":"remove","lines":[" "],"id":17}],[{"start":{"row":105,"column":37},"end":{"row":105,"column":38},"action":"remove","lines":[" "],"id":18}],[{"start":{"row":110,"column":20},"end":{"row":110,"column":28},"action":"remove","lines":[" 40.7828"],"id":19},{"start":{"row":110,"column":20},"end":{"row":110,"column":34},"action":"insert","lines":["@shot.latitude"]}],[{"start":{"row":110,"column":40},"end":{"row":110,"column":48},"action":"remove","lines":["-73.9653"],"id":20},{"start":{"row":110,"column":40},"end":{"row":110,"column":54},"action":"insert","lines":["@shot.latitude"]}],[{"start":{"row":110,"column":54},"end":{"row":110,"column":55},"action":"insert","lines":["s"],"id":21}],[{"start":{"row":110,"column":54},"end":{"row":110,"column":55},"action":"remove","lines":["s"],"id":22}],[{"start":{"row":39,"column":26},"end":{"row":40,"column":4},"action":"insert","lines":["","\t\t\t\t"],"id":23}],[{"start":{"row":40,"column":4},"end":{"row":43,"column":14},"action":"insert","lines":["<!-- ここから追加 -->","<input id=\"address\" type=\"textbox\" value=\"GeekSalon\">","<input type=\"button\" value=\"Encode\" onclick=\"codeAddress()\">","<!-- ここまで追加-->"],"id":24}],[{"start":{"row":117,"column":1},"end":{"row":118,"column":0},"action":"insert","lines":["",""],"id":25}],[{"start":{"row":118,"column":0},"end":{"row":136,"column":10},"action":"insert","lines":["// ここから追加 ","let geocoder","","function codeAddress(){","  let inputAddress = document.getElementById('address').value;","","  geocoder.geocode( { 'address': inputAddress}, function(results, status) {","    if (status == 'OK') {","      map.setCenter(results[0].geometry.location);","      var marker = new google.maps.Marker({","          map: map,","          position: results[0].geometry.location","      });","    } else {","      alert('該当する結果がありませんでした：' + status);","    }","  });   ","}","// ここまで追加 "],"id":26}],[{"start":{"row":40,"column":4},"end":{"row":43,"column":14},"action":"remove","lines":["<!-- ここから追加 -->","<input id=\"address\" type=\"textbox\" value=\"GeekSalon\">","<input type=\"button\" value=\"Encode\" onclick=\"codeAddress()\">","<!-- ここまで追加-->"],"id":27},{"start":{"row":40,"column":4},"end":{"row":48,"column":0},"action":"insert","lines":["<h2>gmap</h2>","","<input id=\"address\" type=\"textbox\" value=\"GeekSalon\">","<input type=\"button\" value=\"Encode\" onclick=\"codeAddress()\">","<!-- 下の1行を追加 -->","<div id=\"display\">何かが表示される、、、、！</div>","","<div id='map'></div>",""]}],[{"start":{"row":49,"column":0},"end":{"row":50,"column":0},"action":"remove","lines":["<div id='map'></div>",""],"id":28}],[{"start":{"row":106,"column":0},"end":{"row":141,"column":9},"action":"remove","lines":["<script>","let map","","function initMap(){","  geocoder = new google.maps.Geocoder()","","  map = new google.maps.Map(document.getElementById('map'), {","    center: {lat:@shot.latitude, lng:@shot.longitude},","    zoom: 12,","  });","","  marker = new google.maps.Marker({","    position:  {lat:@shot.latitude, lng:@shot.latitude},","    map: map","  });","}","// ここから追加 ","let geocoder","","function codeAddress(){","  let inputAddress = document.getElementById('address').value;","","  geocoder.geocode( { 'address': inputAddress}, function(results, status) {","    if (status == 'OK') {","      map.setCenter(results[0].geometry.location);","      var marker = new google.maps.Marker({","          map: map,","          position: results[0].geometry.location","      });","    } else {","      alert('該当する結果がありませんでした：' + status);","    }","  });   ","}","// ここまで追加 ","</script>"],"id":29},{"start":{"row":106,"column":0},"end":{"row":143,"column":9},"action":"insert","lines":["<script>","let map","let geocoder","// 下の1行を追加 ","const display = document.getElementById('display')","","function initMap(){","  geocoder = new google.maps.Geocoder()","","  map = new google.maps.Map(document.getElementById('map'), {","    center: {lat: 40.7828, lng:-73.9653},","    zoom: 12,","  });","","  marker = new google.maps.Marker({","    position:  {lat: 40.7828, lng:-73.9653},","    map: map","  });","}","","function codeAddress(){","  let inputAddress = document.getElementById('address').value;","","  geocoder.geocode( { 'address': inputAddress}, function(results, status) {","    if (status == 'OK') {","      map.setCenter(results[0].geometry.location);","      var marker = new google.maps.Marker({","          map: map,","          position: results[0].geometry.location","      });","      // 下の1行を追加 ","      display.textContent = \"検索結果：\" + results[ 0 ].geometry.location","    } else {","      alert('該当する結果がありませんでした：' + status);","    }","  });   ","}","</script>"]}]]},"ace":{"folds":[],"scrolltop":2094.5,"scrollleft":0,"selection":{"start":{"row":142,"column":1},"end":{"row":142,"column":1},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":138,"state":"js-start","mode":"ace/mode/html_ruby"}},"timestamp":1592898637180,"hash":"f128a89ad9d512aa64b06be7124778634e910d5b"}